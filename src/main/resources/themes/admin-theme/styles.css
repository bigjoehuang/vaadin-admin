/* 全局样式 */
:root {
  --lumo-primary-color: #1976d2;
  --lumo-primary-text-color: #1a1a1a; /* 改为黑色，原为白色 */
  --lumo-base-color: #ffffff;
  --lumo-body-text-color: #1a1a1a;
  --lumo-header-text-color: #1a1a1a;
  --lumo-secondary-text-color: #6e6e6e;
  --lumo-font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  --lumo-border-radius: 0.5em;
  --lumo-space-xl: 2rem;
  --drawer-width: 200px; /* 菜单栏宽度 */
  --vaadin-app-layout-drawer-width: var(--drawer-width);
  
  /* 输入框label颜色 - 使用Vaadin CSS变量 */
  --lumo-text-field-label-color: var(--lumo-body-text-color);
  --lumo-text-area-label-color: var(--lumo-body-text-color);
  --lumo-password-field-label-color: var(--lumo-body-text-color);
  --lumo-email-field-label-color: var(--lumo-body-text-color);
  --lumo-number-field-label-color: var(--lumo-body-text-color);
  --lumo-integer-field-label-color: var(--lumo-body-text-color);
  --lumo-combo-box-label-color: var(--lumo-body-text-color);
  --lumo-select-label-color: var(--lumo-body-text-color);
  --lumo-date-picker-label-color: var(--lumo-body-text-color);
  --lumo-time-picker-label-color: var(--lumo-body-text-color);
  
  /* Vaadin输入框label颜色（备用） */
  --vaadin-input-field-label-color: var(--lumo-body-text-color);
  --vaadin-input-field-label-color-focus: var(--lumo-body-text-color);
}

/* 兼容 html 选择器 */
html {
  --drawer-width: 200px;
  --vaadin-app-layout-drawer-width: var(--drawer-width);
}

/* 登录页面样式 */
.login-view {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

/* 工具栏样式 */
.toolbar {
  padding: 1rem;
  background: var(--lumo-base-color);
  border-bottom: 1px solid var(--lumo-contrast-10pct);
  color: var(--lumo-body-text-color);
}

/* 确保工具栏中的按钮文字可见 */
.toolbar vaadin-button {
  color: var(--lumo-body-text-color);
}

/* 列表视图样式 */
.user-list-view,
.role-list-view,
.menu-list-view {
  padding: 1rem;
  color: var(--lumo-body-text-color);
}

/* 确保 Grid 文字可见 */
vaadin-grid {
  color: var(--lumo-body-text-color);
}

/* 确保 Grid 表头文字可见 */
vaadin-grid::part(header-cell) {
  color: var(--lumo-header-text-color);
}

/* 确保主布局中的文字可见 */
vaadin-app-layout {
  color: var(--lumo-body-text-color);
  --vaadin-app-layout-drawer-width: var(--drawer-width);
}

/* 确保导航栏中的文字可见 */
vaadin-app-layout::part(navbar) {
  color: var(--lumo-body-text-color);
}

/* 修复 DrawerToggle 按钮颜色 */
vaadin-app-layout::part(navbar) vaadin-button {
  color: var(--lumo-body-text-color);
}

vaadin-app-layout::part(navbar) vaadin-button[theme~="tertiary"] {
  color: var(--lumo-body-text-color);
}

vaadin-app-layout::part(navbar) vaadin-button::part(prefix),
vaadin-app-layout::part(navbar) vaadin-button::part(suffix) {
  color: var(--lumo-body-text-color);
}

vaadin-app-layout::part(navbar) vaadin-button[theme~="tertiary"]::part(prefix),
vaadin-app-layout::part(navbar) vaadin-button[theme~="tertiary"]::part(suffix) {
  color: var(--lumo-body-text-color);
}

/* 确保 DrawerToggle 图标颜色正确 */
vaadin-app-layout::part(navbar) vaadin-icon {
  color: var(--lumo-body-text-color);
}

/* 确保导航栏中所有图标颜色正确 */
vaadin-app-layout::part(navbar) * vaadin-icon {
  color: var(--lumo-body-text-color);
}

/* 修复 DrawerToggle 按钮颜色 - 使用样式类 */
.drawer-toggle-button {
  color: var(--lumo-body-text-color) !important;
}

.drawer-toggle-button::part(icon) {
  color: var(--lumo-body-text-color) !important;
}

/* 确保侧边栏中的文字可见 */
vaadin-app-layout::part(drawer) {
  color: var(--lumo-body-text-color);
  width: var(--drawer-width) !important;
  min-width: var(--drawer-width) !important;
  max-width: var(--drawer-width) !important;
}

/* 确保标签页文字可见 */
vaadin-tabs {
  color: var(--lumo-body-text-color);
}

vaadin-tab {
  color: var(--lumo-body-text-color);
}

/* 确保对话框中的按钮文字可见 */
vaadin-dialog vaadin-button {
  color: var(--lumo-body-text-color) !important;
}

vaadin-dialog vaadin-button::part(label) {
  color: var(--lumo-body-text-color) !important;
}

vaadin-dialog vaadin-button[theme~="tertiary"] {
  color: var(--lumo-body-text-color) !important;
}

vaadin-dialog vaadin-button[theme~="tertiary"]::part(label) {
  color: var(--lumo-body-text-color) !important;
}

vaadin-dialog vaadin-button[theme~="primary"] {
  color: var(--lumo-primary-text-color) !important;
}

vaadin-dialog vaadin-button[theme~="primary"]::part(label) {
  color: var(--lumo-primary-text-color) !important;
}

/* 确保确认对话框中的按钮文字可见 */
vaadin-confirm-dialog vaadin-button {
  color: var(--lumo-body-text-color) !important;
}

vaadin-confirm-dialog vaadin-button::part(label) {
  color: var(--lumo-body-text-color) !important;
}

/* 取消按钮（tertiary主题）必须使用深色文字，不能是白色 */
vaadin-confirm-dialog vaadin-button[theme~="tertiary"] {
  color: #1a1a1a !important;
  border: 1px solid var(--lumo-contrast-30pct) !important;
  background-color: transparent !important;
}

vaadin-confirm-dialog vaadin-button[theme~="tertiary"]::part(label) {
  color: #1a1a1a !important;
}

/* 确保取消按钮的所有部分都是深色 */
vaadin-confirm-dialog vaadin-button[theme~="tertiary"]::before,
vaadin-confirm-dialog vaadin-button[theme~="tertiary"]::after {
  color: #1a1a1a !important;
}

/* 确保确认对话框按钮布局：取消在左，确认（删除）在右 */
vaadin-confirm-dialog::part(buttons) {
  display: flex;
  justify-content: flex-end;
  gap: 0.5rem;
}

vaadin-confirm-dialog vaadin-button[theme~="primary"] {
  color: var(--lumo-primary-text-color) !important;
}

vaadin-confirm-dialog vaadin-button[theme~="primary"]::part(label) {
  color: var(--lumo-primary-text-color) !important;
}

vaadin-confirm-dialog vaadin-button[theme~="error"] {
  color: var(--lumo-primary-text-color) !important;
}

vaadin-confirm-dialog vaadin-button[theme~="error"]::part(label) {
  color: var(--lumo-primary-text-color) !important;
}

/* 确保对话框 footer 中的按钮文字可见 */
vaadin-dialog::part(footer) vaadin-button {
  color: var(--lumo-body-text-color) !important;
}

vaadin-dialog::part(footer) vaadin-button::part(label) {
  color: var(--lumo-body-text-color) !important;
}

vaadin-dialog::part(footer) vaadin-button[theme~="tertiary"] {
  color: var(--lumo-body-text-color) !important;
}

vaadin-dialog::part(footer) vaadin-button[theme~="tertiary"]::part(label) {
  color: var(--lumo-body-text-color) !important;
}

vaadin-dialog::part(footer) vaadin-button[theme~="primary"] {
  color: var(--lumo-primary-text-color) !important;
}

vaadin-dialog::part(footer) vaadin-button[theme~="primary"]::part(label) {
  color: var(--lumo-primary-text-color) !important;
}

/* 确保所有按钮文字可见（通用规则） */
vaadin-button {
  color: var(--lumo-body-text-color);
}

vaadin-button::part(label) {
  color: var(--lumo-body-text-color);
}

vaadin-button[theme~="tertiary"] {
  color: var(--lumo-body-text-color);
}

vaadin-button[theme~="tertiary"]::part(label) {
  color: var(--lumo-body-text-color);
}

vaadin-button[theme~="primary"] {
  color: var(--lumo-primary-text-color);
}

vaadin-button[theme~="primary"]::part(label) {
  color: var(--lumo-primary-text-color);
}

/* 确保按钮图标颜色正确 */
vaadin-button::part(prefix),
vaadin-button::part(suffix) {
  color: inherit;
}

vaadin-button vaadin-icon {
  color: inherit;
}

/* 确保输入框label在获得焦点时保持可见 - 使用CSS变量和直接样式 */
vaadin-text-field,
vaadin-text-area,
vaadin-password-field,
vaadin-email-field,
vaadin-number-field,
vaadin-integer-field,
vaadin-combo-box,
vaadin-select,
vaadin-date-picker,
vaadin-time-picker {
  --lumo-text-field-label-color: var(--lumo-body-text-color) !important;
  --vaadin-input-field-label-color: var(--lumo-body-text-color) !important;
  --vaadin-input-field-label-color-focus: var(--lumo-body-text-color) !important;
}

/* 确保输入框label在获得焦点时保持可见 */
vaadin-text-field[focused],
vaadin-text-area[focused],
vaadin-password-field[focused],
vaadin-email-field[focused],
vaadin-number-field[focused],
vaadin-integer-field[focused],
vaadin-combo-box[focused],
vaadin-select[focused],
vaadin-date-picker[focused],
vaadin-time-picker[focused] {
  --lumo-text-field-label-color: var(--lumo-body-text-color) !important;
  --vaadin-input-field-label-color: var(--lumo-body-text-color) !important;
  --vaadin-input-field-label-color-focus: var(--lumo-body-text-color) !important;
}

/* 使用::part选择器作为备用方案 */
vaadin-text-field::part(label),
vaadin-text-area::part(label),
vaadin-password-field::part(label),
vaadin-email-field::part(label),
vaadin-number-field::part(label),
vaadin-integer-field::part(label),
vaadin-combo-box::part(label),
vaadin-select::part(label),
vaadin-date-picker::part(label),
vaadin-time-picker::part(label) {
  color: var(--lumo-body-text-color) !important;
}

vaadin-text-field[focused]::part(label),
vaadin-text-area[focused]::part(label),
vaadin-password-field[focused]::part(label),
vaadin-email-field[focused]::part(label),
vaadin-number-field[focused]::part(label),
vaadin-integer-field[focused]::part(label),
vaadin-combo-box[focused]::part(label),
vaadin-select[focused]::part(label),
vaadin-date-picker[focused]::part(label),
vaadin-time-picker[focused]::part(label) {
  color: var(--lumo-body-text-color) !important;
}

/* 主题切换按钮样式 */
.theme-toggle-button {
  color: var(--lumo-body-text-color) !important;
}

.theme-toggle-button::part(icon) {
  color: var(--lumo-body-text-color) !important;
}

/* 确保导航栏中的主题切换按钮可见 */
vaadin-app-layout::part(navbar) .theme-toggle-button {
  color: var(--lumo-body-text-color) !important;
}

vaadin-app-layout::part(navbar) .theme-toggle-button::part(icon) {
  color: var(--lumo-body-text-color) !important;
}

vaadin-app-layout::part(navbar) .theme-toggle-button vaadin-icon {
  color: var(--lumo-body-text-color) !important;
}

/* 确保主题切换按钮中的图标颜色正确 */
.theme-toggle-button vaadin-icon {
  color: var(--lumo-body-text-color) !important;
}

vaadin-app-layout::part(navbar) .theme-toggle-button vaadin-icon::part(svg) {
  fill: var(--lumo-body-text-color) !important;
}

/* 暗色主题样式覆盖 */
[theme~="dark"] {
  /* 暗色主题下的主色调调整 */
  --lumo-primary-text-color: #ffffff; /* 暗色主题下主色按钮文字改为白色 */
}

/* 暗色主题下确认对话框的取消按钮文字颜色 */
[theme~="dark"] vaadin-confirm-dialog vaadin-button[theme~="tertiary"] {
  color: #ffffff !important;
}

[theme~="dark"] vaadin-confirm-dialog vaadin-button[theme~="tertiary"]::part(label) {
  color: #ffffff !important;
}

/* 暗色主题下的登录页面样式 */
[theme~="dark"] .login-view {
  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
}

/* 确保暗色主题下所有组件文字可见 */
[theme~="dark"] vaadin-button[theme~="primary"] {
  color: var(--lumo-primary-text-color);
}

[theme~="dark"] vaadin-button[theme~="primary"]::part(label) {
  color: var(--lumo-primary-text-color);
}

